#if($target == "clash3")
proxy-providers:
  duoyu:
    type: http
    path: ./proxies.yaml
    url: $proxiesUrl
    interval: 3600
    health-check:
      enable: true
      url: http://onedrive.live.com
      interval: 300
#end

#set($supportSevers = [])
#foreach($item in $servers)
  #if($inclueItems.contains($item.protocol))
    #set($result = $supportSevers.add($item))
  #end
#end
#set($delimiter = $lineSeparator)
#set($serverNames = "")
#foreach($item in $supportSevers)
  #if($inclueItems.contains($item.protocol))
    #set($serverNames = "$serverNames      - $item.serverName$delimiter")
  #end
#end
#set($ruleList = [
  {"name":"Applications", "group":"ğŸ¯ ç›´è¿"},
  {"name":"MyReject", "group":"ğŸš« æ‹¦æˆª"},
  {"name":"MyProxy", "group":"ğŸ”° ä»£ç†"},
  {"name":"MyDirect", "group":"ğŸ¯ ç›´è¿"},
  {"name":"OpenAI", "group":"ğŸ³ OpenAI"},
  {"name":"Amazon", "group":"ğŸ› äºšé©¬é€Š"},
  {"name":"PayPal", "group":"ğŸ’° PayPal"},
  {"name":"Google", "group":"ğŸ¶ è°·æ­Œ"},
  {"name":"YouTube", "group":"ğŸ– YouTube"},
  {"name":"Microsoft", "group":"ğŸ‘”ï¸ å¾®è½¯"},
  {"name":"iCloud", "group":"â˜ï¸ iCloud"},
  {"name":"Apple", "group":"ğŸ è‹¹æœ"},
  {"name":"Whatsapp", "group":"ğŸš Whatsapp"},
  {"name":"TikTok", "group":"ğŸ‘™ TikTok"},
  {"name":"Private", "group":"ğŸ¯ ç›´è¿"},
  {"name":"Reject", "group":"ğŸš« æ‹¦æˆª"},
  {"name":"TelegramCidr", "group":"ğŸ”° ä»£ç†"}
  ])
#if ($whitelist)
  #set($tmp = $ruleList.add({"name":"Direct", "group":"ğŸ¯ ç›´è¿"}))
#else
  #set($tmp = $ruleList.add({"name":"Proxy", "group":"ğŸ”° ä»£ç†"}))
#end
proxy-groups:
  - name: ğŸ”° ä»£ç†
    type: select
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ¯ ç›´è¿
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end


  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸ³ OpenAI
    type: select
    proxies:
      - ğŸ”° ä»£ç†
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸ’° PayPal
    type: select
    proxies:
      - ğŸ”° ä»£ç†
      - ğŸ¯ ç›´è¿
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸ› äºšé©¬é€Š
    type: select
    proxies:
      - ğŸ”° ä»£ç†
      - ğŸ¯ ç›´è¿
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸ¶ è°·æ­Œ
    type: select
    proxies:
      - ğŸ”° ä»£ç†
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸ– YouTube
    type: select
    proxies:
      - ğŸ”° ä»£ç†
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸ‘”ï¸ å¾®è½¯
    type: select
    proxies:
      - ğŸ”° ä»£ç†
      - ğŸ¯ ç›´è¿
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: â˜ï¸ iCloud
    type: select
    proxies:
      - ğŸ¯ ç›´è¿
      - ğŸ”° ä»£ç†
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸ è‹¹æœ
    type: select
    proxies:
      - ğŸ¯ ç›´è¿
      - ğŸ”° ä»£ç†
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸš Whatsapp
    type: select
    proxies:
      - ğŸ”° ä»£ç†
      - ğŸ¯ ç›´è¿
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸ‘™ TikTok
    type: select
    proxies:
      - ğŸ”° ä»£ç†
      - ğŸ¯ ç›´è¿
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end

  - name: ğŸ¯ ç›´è¿
    type: select
    proxies:
      - DIRECT

  - name: ğŸš« æ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT

  - name: â›³ï¸ å…¶ä»–
    type: select
    proxies:
#if ($whitelist == true)
      - ğŸ”° ä»£ç†
      - ğŸ¯ ç›´è¿
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end
#else
      - ğŸ¯ ç›´è¿
      - ğŸ”° ä»£ç†
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
#if($target == "clash3")
    use:
      - duoyu
#else
$serverNames
#end
#end