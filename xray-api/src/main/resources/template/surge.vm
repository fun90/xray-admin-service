#!MANAGED-CONFIG $configUrl interval=3600 strict=false

[General]
loglevel = notify
bypass-system = true
skip-proxy = 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,localhost,*.local,e.crashlytics.com,captive.apple.com,::ffff:0:0:0:0/1,::ffff:128:0:0:0/1
#DNSè®¾ç½®æˆ–æ ¹æ®è‡ªå·±ç½‘ç»œæƒ…å†µè¿›è¡Œç›¸åº”è®¾ç½®
bypass-tun = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12
dns-server = 114.114.114.114, 223.5.5.5, 119.29.29.29

[Script]


[Proxy]
DIRECT = direct
#foreach($server in $servers)
    #if($server.protocol == "vmess")
$server.serverName = vmess, $server.clientDomain, $server.clientPort, username=$account.uuid, ws-path=$server.json.wsPath, ws-headers=Host:$server.clientDomain, ws=true, tls=true, vmess-aead=true
    #elseif($server.protocol == "trojan")
$server.serverName = trojan, $server.clientDomain, $server.clientPort, password=$account.uuid, sni=$server.clientDomain
    #else
    #end
#end
ğŸ¯ ç›´è¿ = direct

#set($inclueItems = ["vmess", "trojan"])
#set($supportSevers = [])
#foreach($item in $servers)
    #if($inclueItems.contains($item.protocol))
        #set($result = $supportSevers.add($item))
    #end
#end
#set($delimiter = ", ")
#set($serverNames = "")
#foreach($item in $supportSevers)
    #if($inclueItems.contains($item.protocol))
        #if($foreach.hasNext)
            #set($serverNames = "$serverNames$item.serverName$delimiter")
        #else
            #set($serverNames = "$serverNames$item.serverName")
        #end
    #end
#end
[Proxy Group]
ğŸ”° ä»£ç† = select,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,ğŸ¯ ç›´è¿,$serverNames
â™»ï¸ è‡ªåŠ¨é€‰æ‹© = url-test,$serverNames,url=http://www.gstatic.com/generate_204,interval=300,timeout=5
ğŸ’° PayPal = select,ğŸ”° ä»£ç†,ğŸ¯ ç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
ğŸ› äºšé©¬é€Š = select,ğŸ”° ä»£ç†,ğŸ¯ ç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
ğŸ¶ è°·æ­Œ = select,ğŸ”° ä»£ç†,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
ğŸ– YouTube = select,ğŸ”° ä»£ç†,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,ğŸ¯ ç›´è¿,$serverNames
ğŸ‘”ï¸ å¾®è½¯ = select,ğŸ”° ä»£ç†,ğŸ¯ ç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
â˜ï¸ iCloud = select,ğŸ¯ ç›´è¿,ğŸ”° ä»£ç†,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
ğŸ è‹¹æœ = select,ğŸ¯ ç›´è¿,ğŸ”° ä»£ç†,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
ğŸš WhatsApp = select,ğŸ”° ä»£ç†,ğŸ¯ ç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
ğŸ‘™ TikTok = select,ğŸ”° ä»£ç†,ğŸ¯ ç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
ğŸš« æ‹¦æˆª = select,REJECT,DIRECT
#if($whitelist)
â›³ï¸ å…¶ä»– = select,ğŸ”° ä»£ç†,ğŸ¯ ç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
#else
â›³ï¸ å…¶ä»– = select,ğŸ¯ ç›´è¿,ğŸ”° ä»£ç†,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$serverNames
#end

[Rule]
##RULE-SET,$rootUrl/subscribe/rules/surge/applications.list,ğŸ¯ ç›´è¿,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/myreject.list,ğŸš« æ‹¦æˆª,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/mydirect.list,ğŸ¯ ç›´è¿,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/myproxy.list,ğŸ”° ä»£ç†,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/paypal.list,ğŸ’° PayPal,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/youtube.list,ğŸ– YouTube,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/amazon.list,ğŸ› äºšé©¬é€Š,update-interval=86400
##RULE-SET,$rootUrl/subscribe/rules/surge/google.list,ğŸ¶ è°·æ­Œ,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/microsoft.list,ğŸ‘”ï¸ å¾®è½¯,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/icloud.list,â˜ï¸ iCloud,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/apple.list,ğŸ è‹¹æœ,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/whatsapp.list,ğŸš WhatsApp,update-interval=86400
RULE-SET,$rootUrl/subscribe/rules/surge/tiktok.list,ğŸ‘™ TikTok,update-interval=86400
##RULE-SET,$rootUrl/subscribe/rules/surge/telegramcidr.list,ğŸš telegramcidr,update-interval=86400
##RULE-SET,$rootUrl/subscribe/rules/surge/private.list,ğŸ¯ ç›´è¿,update-interval=86400
##RULE-SET,$rootUrl/subscribe/rules/surge/reject.list,ğŸš« æ‹¦æˆª,update-interval=86400
RULE-SET,LAN,DIRECT
RULE-SET,SYSTEM,DIRECT
#if($whitelist)
RULE-SET,$rootUrl/subscribe/rules/surge/cn.list,ğŸ¯ ç›´è¿,update-interval=86400
FINAL,â›³ï¸ å…¶ä»–,dns-failed
#else
RULE-SET,$rootUrl/subscribe/rules/surge/proxy.list,ğŸ”° ä»£ç†,update-interval=86400
FINAL,â›³ï¸ å…¶ä»–,dns-failed
#end

